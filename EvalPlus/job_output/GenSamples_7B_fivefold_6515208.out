
Generate samples for 7b...

128 tokens - Iteration 1 out of 5

Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:02<00:04,  2.26s/it]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:04<00:02,  2.30s/it]Loading checkpoint shards: 100%|██████████| 3/3 [00:06<00:00,  2.20s/it]Loading checkpoint shards: 100%|██████████| 3/3 [00:06<00:00,  2.22s/it]
[codecarbon WARNING @ 20:26:24] Background scheduler didn't run for a long period (577s), results might be inaccurate
Model bigcode/starcoder2-7b loaded. Proceeding to generating samples.
Time used for starcoder2-7b, with max. 128 new tokens is 577.48 seconds (9.6 minutes).
Average of 3.56 seconds per coding task.
The approximated emissions for the task with starcoder2-7b, with max. 128 new tokens = 0.02845374397889964 kgs of C02.
Data stored to csv.
128 tokens - Iteration 2 out of 5

Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:01,  1.69it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:01<00:00,  1.70it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.78it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.75it/s]
[codecarbon WARNING @ 20:36:42] Background scheduler didn't run for a long period (579s), results might be inaccurate
Model bigcode/starcoder2-7b loaded. Proceeding to generating samples.
Time used for starcoder2-7b, with max. 128 new tokens is 579.43 seconds (9.7 minutes).
Average of 3.58 seconds per coding task.
The approximated emissions for the task with starcoder2-7b, with max. 128 new tokens = 0.02852244630183642 kgs of C02.
Data stored to csv.
128 tokens - Iteration 3 out of 5

Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:01,  1.69it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:01<00:00,  1.70it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.77it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.75it/s]
[codecarbon WARNING @ 20:46:43] Background scheduler didn't run for a long period (577s), results might be inaccurate
Model bigcode/starcoder2-7b loaded. Proceeding to generating samples.
Time used for starcoder2-7b, with max. 128 new tokens is 577.53 seconds (9.6 minutes).
Average of 3.56 seconds per coding task.
The approximated emissions for the task with starcoder2-7b, with max. 128 new tokens = 0.028463438761647687 kgs of C02.
Data stored to csv.
128 tokens - Iteration 4 out of 5

Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:01,  1.68it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:01<00:00,  1.70it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.77it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.75it/s]
[codecarbon WARNING @ 20:56:38] Background scheduler didn't run for a long period (577s), results might be inaccurate
Model bigcode/starcoder2-7b loaded. Proceeding to generating samples.
Time used for starcoder2-7b, with max. 128 new tokens is 577.61 seconds (9.6 minutes).
Average of 3.57 seconds per coding task.
The approximated emissions for the task with starcoder2-7b, with max. 128 new tokens = 0.02849243635765351 kgs of C02.
Data stored to csv.
128 tokens - Iteration 5 out of 5

Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:01,  1.68it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:01<00:00,  1.70it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.78it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.76it/s]
[codecarbon WARNING @ 21:06:32] Background scheduler didn't run for a long period (579s), results might be inaccurate
Model bigcode/starcoder2-7b loaded. Proceeding to generating samples.
Time used for starcoder2-7b, with max. 128 new tokens is 579.1 seconds (9.7 minutes).
Average of 3.57 seconds per coding task.
The approximated emissions for the task with starcoder2-7b, with max. 128 new tokens = 0.028534131495690156 kgs of C02.
Data stored to csv.
256 tokens - Iteration 1 out of 5

Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:01,  1.69it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:01<00:00,  1.70it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.78it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.76it/s]
[codecarbon WARNING @ 21:26:09] Background scheduler didn't run for a long period (1149s), results might be inaccurate
Model bigcode/starcoder2-7b loaded. Proceeding to generating samples.
Time used for starcoder2-7b, with max. 256 new tokens is 1149.64 seconds (19.2 minutes).
Average of 7.1 seconds per coding task.
The approximated emissions for the task with starcoder2-7b, with max. 256 new tokens = 0.05633504928239856 kgs of C02.
Data stored to csv.
256 tokens - Iteration 2 out of 5

Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:01,  1.70it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:01<00:00,  1.71it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.79it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.76it/s]
[codecarbon WARNING @ 21:47:12] Background scheduler didn't run for a long period (1150s), results might be inaccurate
Model bigcode/starcoder2-7b loaded. Proceeding to generating samples.
Time used for starcoder2-7b, with max. 256 new tokens is 1150.36 seconds (19.2 minutes).
Average of 7.1 seconds per coding task.
The approximated emissions for the task with starcoder2-7b, with max. 256 new tokens = 0.05636439910305273 kgs of C02.
Data stored to csv.
256 tokens - Iteration 3 out of 5

Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:01,  1.69it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:01<00:00,  1.70it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.78it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.76it/s]
[codecarbon WARNING @ 22:06:38] Background scheduler didn't run for a long period (1151s), results might be inaccurate
Model bigcode/starcoder2-7b loaded. Proceeding to generating samples.
Time used for starcoder2-7b, with max. 256 new tokens is 1151.18 seconds (19.2 minutes).
Average of 7.11 seconds per coding task.
The approximated emissions for the task with starcoder2-7b, with max. 256 new tokens = 0.056415656409425294 kgs of C02.
Data stored to csv.
256 tokens - Iteration 4 out of 5

Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:01,  1.68it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:01<00:00,  1.70it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.77it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.75it/s]
[codecarbon WARNING @ 22:26:21] Background scheduler didn't run for a long period (1154s), results might be inaccurate
Model bigcode/starcoder2-7b loaded. Proceeding to generating samples.
Time used for starcoder2-7b, with max. 256 new tokens is 1154.09 seconds (19.2 minutes).
Average of 7.12 seconds per coding task.
The approximated emissions for the task with starcoder2-7b, with max. 256 new tokens = 0.05652476648908621 kgs of C02.
Data stored to csv.
256 tokens - Iteration 5 out of 5

Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:01,  1.69it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:01<00:00,  1.71it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.79it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.76it/s]
[codecarbon WARNING @ 22:45:47] Background scheduler didn't run for a long period (1149s), results might be inaccurate
Model bigcode/starcoder2-7b loaded. Proceeding to generating samples.
Time used for starcoder2-7b, with max. 256 new tokens is 1149.68 seconds (19.2 minutes).
Average of 7.1 seconds per coding task.
The approximated emissions for the task with starcoder2-7b, with max. 256 new tokens = 0.05645818912058693 kgs of C02.
Data stored to csv.

Samples generated.
Proceeding to sanitizing..

0it [00:00, ?it/s]/home/pdereus/.conda/envs/thesis/lib/python3.11/site-packages/tree_sitter/__init__.py:36: FutureWarning: Language(path, name) is deprecated. Use Language(ptr, name) instead.
  warn("{} is deprecated. Use {} instead.".format(old, new), FutureWarning)
15it [00:00, 145.78it/s]33it [00:00, 157.34it/s]56it [00:00, 185.36it/s]76it [00:00, 189.43it/s]97it [00:00, 195.33it/s]117it [00:00, 185.69it/s]136it [00:00, 173.05it/s]160it [00:00, 184.60it/s]164it [00:00, 182.59it/s]
Sanitized 164 out of 164 files.
Check the sanitized files at samples/samples_7b_128-sanitized.jsonl
0it [00:00, ?it/s]/home/pdereus/.conda/envs/thesis/lib/python3.11/site-packages/tree_sitter/__init__.py:36: FutureWarning: Language(path, name) is deprecated. Use Language(ptr, name) instead.
  warn("{} is deprecated. Use {} instead.".format(old, new), FutureWarning)
8it [00:00, 74.55it/s]16it [00:00, 74.96it/s]25it [00:00, 79.17it/s]33it [00:00, 70.58it/s]44it [00:00, 81.63it/s]53it [00:00, 82.38it/s]62it [00:00, 72.89it/s]72it [00:00, 80.04it/s]81it [00:01, 75.61it/s]91it [00:01, 74.10it/s]100it [00:01, 78.11it/s]109it [00:01, 71.65it/s]117it [00:01, 64.30it/s]126it [00:01, 66.30it/s]133it [00:01, 56.55it/s]140it [00:02, 54.26it/s]151it [00:02, 65.24it/s]160it [00:02, 63.01it/s]164it [00:02, 69.44it/s]
Sanitized 164 out of 164 files.
Check the sanitized files at samples/samples_7b_256-sanitized.jsonl

Samples santized.
Proceeding to evaluation..


Evaluating 3b, 128 tokens and then 256 tokens.
Load from previous results from samples/samples_7b_128-sanitized_eval_results.json
humaneval (base tests)
pass@1:	0.043
humaneval+ (base + extra tests)
pass@1:	0.037
Load from previous results from samples/samples_7b_256-sanitized_eval_results.json
humaneval (base tests)
pass@1:	0.079
humaneval+ (base + extra tests)
pass@1:	0.061

JOB STATISTICS
==============
Job ID: 6515208
Cluster: snellius
User/Group: pdereus/pdereus
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 02:29:34
CPU Efficiency: 5.53% of 1-21:04:12 core-walltime
Job Wall-clock time: 02:30:14
Memory Utilized: 13.36 GB
Memory Efficiency: 11.13% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
